(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{1091:function(e,t){},1093:function(e,t){},1103:function(e,t){},1105:function(e,t){},1114:function(e,t){},1116:function(e,t){},1141:function(e,t){},1143:function(e,t){},1144:function(e,t){},1149:function(e,t){},1151:function(e,t){},1170:function(e,t){},1182:function(e,t){},1185:function(e,t){},1207:function(e,t){},1442:function(e,t){},1443:function(e,t){},1444:function(e,t){},1467:function(e,t,n){},1469:function(e,t,n){},1470:function(e,t,n){},1473:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(43),i=n.n(a),o=(n(716),n(57)),s=(n(212),n(698)),l=n(49),u=n(256),d=n(672),j=n(673),b=function(){function e(){return Object(u.a)(this,e),e._instance?e._instance:(e._instance=this,this.socket=Object(j.io)("https://vast-bastion-79619.herokuapp.com/"),this)}return Object(d.a)(e,[{key:"onConnect",value:function(e){this.socket.emit("onConnect",JSON.stringify(e))}},{key:"createOrJoin",value:function(e){this.socket.emit("createRoom",JSON.stringify(e))}},{key:"getAllRooms",value:function(){this.socket.emit("allRooms")}},{key:"startGame",value:function(e){this.socket.emit("startGame",e)}},{key:"onDraw",value:function(e,t){this.socket.emit("onDraw",e,t)}}],[{key:"getInstance",value:function(){return this._instance}}]),e}(),f=n(38),h=n.n(f),O=n(74),m=n(44),p=n(700),x=(n(740),n.p+"static/media/logo.6ce24c58.svg"),v=n(12),g=function(e){var t=null===e.isEditing?"":e.isEditing?"Editing":"Guessing",n=e.isEditing?"#a1cae2":"white";return Object(v.jsxs)("div",{className:"PlayCard",style:Object(o.a)(Object(o.a)({},e.style),{},{backgroundColor:n}),children:[Object(v.jsx)(p.a,{src:x,rounded:!0,className:"playcard-imageholder"}),Object(v.jsxs)("div",{className:"information",children:[Object(v.jsx)("div",{children:e.score}),Object(v.jsx)("div",{style:{color:"orange"},children:e.name}),Object(v.jsx)("div",{children:t})]})]})},y=n(389),w=n(266),k=n.n(w),N=n(1516),C=n(699),S=n(691),E=n.n(S),R=n(692),I=n.n(R),P=n(393),A=n.n(P),T=n(693),J=n.n(T),L=n(689),G=n.n(L),M=n(694),_=n.n(M),D=n(392),F=n.n(D),z=n(78),H=n(1517),U=n(1536),W=n(1530),B=n(1533),V=n(687),Y=n.n(V),Q=n(679),q=n.n(Q),K=n(688),X=n.n(K),Z=n(690),$=n.n(Z),ee=(n(1441).fabric,[{name:"pencil",render:Object(v.jsx)(q.a,{})},{name:"circle",render:Object(v.jsx)(Y.a,{})},{name:"arrow",render:Object(v.jsx)(X.a,{})},{name:"line",render:Object(v.jsx)(G.a,{})},{name:"rectangle",render:Object(v.jsx)($.a,{})}]),te=function(e){return Object(v.jsxs)("div",{style:Object(o.a)({},e.style),children:[Object(v.jsx)("div",{style:{position:"absolute",width:"100%",height:"100%",backgroundColor:"transparent",zIndex:3}}),Object(v.jsx)("div",{style:{zIndex:2,position:"absolute",width:"100%",height:"100%"},children:Object(v.jsx)(y.SketchField,{height:700,ref:function(t){e.passCanvasHandler(t)}})})]})},ne=Object(r.forwardRef)((function(e,t){var n=Object(r.useState)(!1),c=Object(m.a)(n,2),a=c[0],i=c[1],s=Object(r.useState)(!1),l=Object(m.a)(s,2),u=l[0],d=l[1],j=Object(r.useState)("black"),b=Object(m.a)(j,2),f=b[0],h=b[1],O=Object(r.useState)(10),p=Object(m.a)(O,2),x=p[0],g=(p[1],Object(r.useState)(null)),w=Object(m.a)(g,2),S=w[0],R=(w[1],Object(r.useState)(ee[0].name)),P=Object(m.a)(R,2),T=P[0],L=P[1],G=e.isEditing,M=e.roomid,D=Object(z.c)((function(e){return e.room.room.find((function(e){return e.id===M}))})),V=(Object(r.useRef)(null),null),Y=e.initialValue;Object(r.useEffect)((function(){V.fromJSON(Y),V._onMouseDown=function(){}}),[Y,V]);Object(r.useImperativeHandle)(t,(function(){return{_clear:Q}}));var Q=function(){V.clear(),V.setBackgroundFromDataUrl(""),i(V.canUndo),d(V.canRedo())};return Object(r.useEffect)((function(){!function(e){e.save=function(t,n){if(t){n||(n="console.json"),"object"===typeof t&&(t=JSON.stringify(t,void 0,4));var r=new Blob([t],{type:"text/json"}),c=document.createEvent("MouseEvents"),a=document.createElement("a");a.download=n,a.href=window.URL.createObjectURL(r),a.dataset.downloadurl=["text/json",a.download,a.href].join(":"),c.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),a.dispatchEvent(c)}else e.error("Console.save: No data")}}(console)}),[]),Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{height:"10%",children:G?Object(v.jsxs)(k.a,{style:Object(o.a)(Object(o.a)({},re.toolbar),{},{display:G}),children:[Object(v.jsx)(F.a,{variant:"h6",color:"inherit",style:{flexGrow:1,color:"orange"},children:D&&D.currentQuestion.question}),Object(v.jsx)(N.a,{color:"primary",disabled:!a,onClick:function(){try{V.undo(),i(V.canUndo()),d(V.canRedo())}catch(e){console.log("undo error",e)}},children:Object(v.jsx)(E.a,{})}),Object(v.jsx)(N.a,{color:"primary",disabled:!u,onClick:function(){try{V.redo(),i(V.canUndo()),d(V.canRedo())}catch(e){console.log("redo error",e)}},children:Object(v.jsx)(I.a,{})}),Object(v.jsx)(N.a,{color:"primary",onClick:function(){localStorage.setItem("1111",JSON.stringify(V.toJSON()))},children:Object(v.jsx)(J.a,{})}),Object(v.jsx)(N.a,{color:"primary",onClick:function(){window.location.href=V.toDataURL().replace("image/png","image/octet-stream")},children:Object(v.jsx)(_.a,{})}),Object(v.jsx)(N.a,{color:"primary",onClick:Q,children:Object(v.jsx)(A.a,{})})]}):Object(v.jsxs)(k.a,{style:Object(o.a)(Object(o.a)({},re.toolbar),{},{display:!G,textAlign:"center"}),children:[Object(v.jsx)(F.a,{variant:"h6",color:"inherit",style:{flexGrow:1,color:"orange"},children:D&&"\u63d0\u793a : ".concat(D.currentQuestion.hint)}),Object(v.jsx)(N.a,{color:"primary",onClick:Q,children:Object(v.jsx)(A.a,{})})]})}),Object(v.jsx)("div",{height:"80%",children:G?Object(v.jsx)(y.SketchField,{name:"sketch",className:"canvas-area",ref:function(e){return V=e},lineColor:f,lineWidth:x,fillColor:"transparent",height:630,backgroundColor:"transparent",defaultValue:Y,value:S,forceValue:!0,onChange:function(t){try{var n=a,r=V.canUndo();e.onDraw(JSON.stringify(V.toJSON())),n!==r&&i(r)}catch(c){}},tool:T}):Object(v.jsx)(te,{style:{width:"100%",height:630},passCanvasHandler:function(e){V=e}})}),G?Object(v.jsx)("div",{children:Object(v.jsxs)(k.a,{style:Object(o.a)(Object(o.a)({},re.toolbar),{},{backgroundColor:"lightgray",zIndex:4,display:"flex",padding:5,justifyContent:"space-around"}),children:[Object(v.jsxs)(H.a,{variant:"outlined",style:{width:"20%"},children:[Object(v.jsx)(U.a,{id:"demo-simple-select-outlined-label",children:"tools"}),Object(v.jsx)(W.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:T,label:"Age",onChange:function(e){L(e.target.value)},children:ee.map((function(e){return Object(v.jsx)(B.a,{value:e.name,children:Object(v.jsxs)("div",{style:{display:"flex"},children:[e.render," ",e.name]})},e.name)}))})]}),Object(v.jsx)(C.a,{id:"lineColor",color:f,onChange:function(e){return h(e.hex)},width:"50%"})]})}):null]})})),re={toolbar:{backgroundColor:"#333",border:"solid 1px",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)"}},ce=ne,ae=n(1534),ie="GET_ALL_ROOM",oe="JOIN_ROOM",se="PREPARE",le="INGAME",ue="FINISH",de="PREPARE",je="DRAWING",be=function(e,t){return function(n){e.createOrJoin(t)}},fe=function(e){return function(t){e.socket.emit("leaveRoom")}},he=(n(1467),function(e){var t=Object(r.useState)(""),n=Object(m.a)(t,2),c=n[0],a=n[1],i=Object(r.useState)([]),o=Object(m.a)(i,2),s=o[0],l=o[1],u=new b,d=Object(z.b)(),j=e.roomid,f=e.isEditing;Object(r.useEffect)((function(){u.socket.on("loadMessages",(function(e){e=JSON.parse(e),l(e)}))}),[]);for(var h=[],O=0;O<10;O++)h.push(O);return Object(v.jsxs)("div",{className:"chatarea",children:[Object(v.jsx)("div",{className:"messagesDisplayArea",children:s.map((function(e){var t=e.id===u.socket.id?"pink":"black";return Object(v.jsx)("div",{style:{display:"flex",padding:"2%",width:"95%"},children:Object(v.jsx)("div",{style:{fontSize:"2.3vh",wordBreak:"break-all",border:"gray solid 0.1px",borderRadius:"10px",textAlign:"left",color:t},children:e.sender+" : "+e.message})})}))}),Object(v.jsx)("div",{className:"chatInputArea",children:Object(v.jsx)(ae.a,{value:c,onChange:function(e){a(e.target.value)},onKeyDown:function(e){13===e.keyCode&&(d(function(e,t,n){return function(r){e.socket.emit("sendMessage",t,n)}}(u,j,e.target.value)),a(""))}})}),f?Object(v.jsx)("div",{className:"inputOverLay",children:Object(v.jsx)("div",{children:"You are drawing.."})}):null]})}),Oe=n(1523),me=n(1535),pe=n(1522),xe=function(e){return Object(v.jsx)(pe.a,{variant:"contained",style:{backgroundColor:e.backgroundColor,width:e.width,height:e.height,borderRadius:"30px",border:e.border||"solid gray",borderWidth:"2px 2px"},onClick:e.onClick,children:e.children})},ve=n(695),ge=n.n(ve),ye=function(e){var t=Object(r.useState)(localStorage.getItem("1111")||null),n=Object(m.a)(t,2),c=n[0],a=n[1],i=Object(r.useState)("waiting"),o=Object(m.a)(i,2),s=o[0],u=o[1],d=Object(r.useState)(""),j=Object(m.a)(d,2),f=j[0],p=j[1],x=Object(r.useState)(!1),y=Object(m.a)(x,2),w=y[0],k=y[1],N=Object(r.useState)(!1),C=Object(m.a)(N,2),S=C[0],E=C[1],R=b.getInstance(),I=Object(z.b)(),P=Object(r.useRef)(),A=Object(z.c)((function(e){return e.room.currentIn})),T=Object(l.g)();Object(r.useEffect)((function(){R.socket.on("onDraw",(function(e){a(e)}))})),Object(r.useEffect)((function(){R.socket.on("roomPlaying",(function(e){if((e=JSON.parse(e)).state===se)u("waiting");else if(e.state===le)switch(e.round_state){case de:u("preparing:"),p(e.prepare),k(e.players.find((function(t){return null!==t&&t.id===e.owner})).isEditing&&R.socket.id===e.owner),P.current&&P.current._clear();break;case je:u("drawing:"),p(e.roundTimer),k(e.players.find((function(t){return null!==t&&t.id===e.owner})).isEditing&&R.socket.id===e.owner)}else(e.state=ue)&&(u("waiting"),p(""))}))}),[]);var J=function(){I(function(e,t){return function(n){e.startGame(t)}}(R,e.location.state.roomid))},L=function(){I(function(e,t){return function(n){e.socket.emit("prepare",t)}}(R,e.location.state.roomid))},G=function(){var e=Object(O.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!0),I(fe(R)),e.next=4,new Promise((function(e){setTimeout((function(){T.goBack(),e(E(!1))}),800)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=null,t=null;return A&&(e=A.players.find((function(e){return e&&e.id===R.socket.id})),t=A.owner===R.socket.id),Object(v.jsxs)("div",{className:"prepareContainer",children:[" ",Object(v.jsx)(xe,{backgroundColor:"#00FF00",width:"46%",height:"70%",onClick:t?J:L,children:t?"Start":e&&e.prepare?Object(v.jsxs)("div",{children:[Object(v.jsx)(ge.a,{style:{fontSize:60,color:"orange"}}),Object(v.jsx)("div",{style:{opacity:.6,position:"absolute",left:"50%",transform:"translate(-50%, -50%)",top:"50%"},children:"ready"})]}):Object(v.jsx)("div",{style:{position:"relative"},children:Object(v.jsx)("div",{style:{position:"absolute",left:"50%",transform:"translate(-50%, -50%)",top:"50%"},children:"prepare"})})}),Object(v.jsx)(xe,{backgroundColor:"red",width:"46%",height:"70%",onClick:G,children:"Exit"})]})};return Object(v.jsxs)("div",{className:"container",children:[Object(v.jsx)(me.a,{style:{zIndex:10},open:S,children:Object(v.jsx)(Oe.a,{color:"inherit"})}),Object(v.jsxs)("div",{className:"player-container",children:[Object(v.jsx)(M,{}),A&&A.players.map((function(e){return null===e?Object(v.jsx)(g,{name:"EMPTY"}):Object(v.jsx)(g,{name:e.name,isEditing:e.isEditing,score:"score: "+e.points})}))]}),Object(v.jsx)("div",{className:"game-container",children:Object(v.jsx)(ce,{ref:P,initialValue:c,onDraw:function(t){I(function(e,t,n){return function(r){e.onDraw(t,n)}}(R,e.location.state.roomid,t))},isEditing:w,roomid:e.location.state.roomid})}),Object(v.jsxs)("div",{className:"chat-container",children:[Object(v.jsxs)("div",{className:"globalTimer",children:[Object(v.jsx)("text",{children:s}),Object(v.jsx)("text",{style:{color:"yellowgreen"},children:f})]}),Object(v.jsx)(he,{isEditing:w,roomid:e.location.state.roomid})]})]})},we=function e(t,n,r,c){var a=this;Object(u.a)(this,e),this.addPlayer=function(e){a.players.forEach((function(t,n){null!==t||a.isFull||(a.players[n]=e)})),alert("this room is full, please go to another one")},this.isFull=function(){var e=5;return a.players.forEach((function(t){null===t&&e--})),e<=a.maxPlayer},this.prepareTimer=Object(O.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){a.prepare=5;var t=setInterval((function(){a.prepare--,0===a.prepare&&(clearInterval(t),e())}),1e3)})));case 1:case"end":return e.stop()}}),e)}))),this.gameTimer=Object(O.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){var t=30,n=setInterval((function(){34===++t&&(clearInterval(n),e())}),1e3)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),this.gameLoop=Object(O.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.prepareTimer();case 2:return e.next=4,a.gameTimer();case 4:case"end":return e.stop()}}),e)}))),this.start=Object(O.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.totalRound=2*a.players.filter((function(e){return null!=e})).length,t=0;case 2:if(!(t<1)){e.next=8;break}return e.next=5,a.gameLoop();case 5:t++,e.next=2;break;case 8:case"end":return e.stop()}}),e)}))),this.starts=function(){a.prepare++,console.log(a.prepare)},this.id=t,this.name=r,this.isPlaying=!1,this.timeLimit=n,this.maxPlayer=c,this.players=[null,null,null,null,null],this.totalRound=0,this.curRound=0,this.prepare=20,this.state=e.GAME_STATE.prepare};we.GAME_STATE={PREPARE:"PREPARE",INGAME:"INGAME"};var ke=we,Ne=(n(1469),[60,70,80,90,100]),Ce=[2,3,4,5],Se=Object(r.forwardRef)((function(e,t){var n=Object(r.useState)(""),c=Object(m.a)(n,2),a=c[0],i=c[1],o=Object(r.useState)(""),s=Object(m.a)(o,2),l=s[0],u=s[1],d=Object(r.useState)(Ne[0]),j=Object(m.a)(d,2),f=j[0],p=j[1],x=Object(r.useState)(Ce[0]),g=Object(m.a)(x,2),y=g[0],w=g[1],k=Object(r.useState)(!1),N=Object(m.a)(k,2),C=N[0],S=N[1],E=Object(r.useState)(null),R=Object(m.a)(E,2),I=R[0],P=R[1],A=(new b).socket;Object(r.useImperativeHandle)(t,(function(){return{show:function(){var e=Object(O.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){S(!0),P({resolve:e,reject:t})})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}}));return Object(v.jsxs)("div",{className:"roomcreatemodal-container",style:{display:C?"flex":"none",zIndex:20},ref:t,children:[Object(v.jsx)("div",{className:"room-input",children:Object(v.jsx)(ae.a,{id:"room-name",label:"Room Name",value:a,onChange:function(e){i(e.target.value)}})}),Object(v.jsx)("div",{className:"room-input",children:Object(v.jsx)(ae.a,{id:"room-password",label:"Room Password",placeholder:"leave empty if no",value:l,onChange:function(e){u(e.target.value)}})}),Object(v.jsx)("div",{className:"room-input",children:Object(v.jsx)(ae.a,{id:"room-time-limit",select:!0,label:"Timie Limit",value:f,onChange:function(e){p(e.target.value)},helperText:"Select time limit",children:Ne.map((function(e){return Object(v.jsx)(B.a,{value:e,children:e+" seconds"},e+" seconds")}))})}),Object(v.jsx)("div",{className:"room-input",children:Object(v.jsx)(ae.a,{id:"room-time-limit",select:!0,label:"Timie Limit",value:y,onChange:function(e){w(e.target.value)},helperText:"Select person limits ",children:Ce.map((function(e){return Object(v.jsx)(B.a,{value:e,children:e},e+" persons")}))})}),Object(v.jsxs)("div",{className:"create-button-container",style:{height:"13.5",width:"75"},children:[Object(v.jsx)(xe,{backgroundColor:"red",height:"100%",border:"solid #f7d9d9",onClick:function(){S(!1),I.reject()},children:"cancel"}),Object(v.jsx)(xe,{backgroundColor:"#f9f3f3",height:"100%",border:"solid gray",onClick:function(){var e=new ke(A.id,f,a,y);S(!1),I.resolve(e)},children:"create"})]})]})})),Ee=(n(1470),function(e){var t=e.joinHandler,n=e.gameState===ke.GAME_STATE.INGAME;return Object(v.jsxs)("div",{className:"round-table",style:{width:e.width,height:e.height},children:[Object(v.jsxs)("div",{className:"round-table-top",children:[Object(v.jsx)("div",{className:"child-table"}),Object(v.jsx)("div",{className:"child-table"})]}),Object(v.jsxs)("div",{className:"round-table-bottom",children:[Object(v.jsx)("div",{className:"child-table-bottom"}),Object(v.jsx)("div",{className:"child-table-bottom"})," ",Object(v.jsx)("div",{className:"child-table-bottom"})]}),Object(v.jsx)(pe.a,{variant:"contained",style:{backgroundColor:n?"red":"#00FF00",width:"40%",height:"15%",borderRadius:"30px",borderWidth:"2px 2px",left:"50%",top:"90%",transform:"translateX(-50%) translateY(-100%)",display:"inline",fontSize:10,color:"black"},disabled:n,onClick:t,children:n?"IN-GAME ":"JOIN"})]})}),Re=n(1531),Ie=n(1524),Pe=n(1526),Ae=n(1529),Te=n(1528),Je=n(1527),Le=n(1525);var Ge=function(e){var t=Object(r.useState)("available rooms"),n=Object(m.a)(t,2),c=n[0],a=n[1],i=e.createRoom,o=e.players,s=e.showAvailableRooms,l=[{id:"name",label:"Name",minWidth:120},{id:"id",label:"ID",minWidth:270,align:"left"}];return Object(v.jsxs)("div",{className:"info-container",children:[Object(v.jsx)("div",{style:{position:"absolute",top:"2%",textAlign:"center",width:"80%"},children:Object(v.jsxs)("b",{children:["total players: ",o.length]})}),Object(v.jsx)("div",{className:"players-info",children:Object(v.jsx)(Ie.a,{style:{minHeight:"100%"},children:Object(v.jsxs)(Le.a,{stickyHeader:!0,"aria-label":"sticky table",size:"small",children:[Object(v.jsx)(Pe.a,{children:Object(v.jsx)(Je.a,{children:l.map((function(e){return Object(v.jsx)(Te.a,{align:e.align,style:{minWidth:e.minWidth},children:e.label},e.id)}))})}),Object(v.jsx)(Ae.a,{children:o.map((function(e){return Object(v.jsx)(Je.a,{hover:!0,role:"checkbox",tabIndex:-1,children:l.map((function(t){var n=e[t.id];return Object(v.jsx)(Te.a,{align:t.align,children:t.format&&"number"===typeof n?t.format(n):n},t.id)}))},e.code)}))})]})})}),Object(v.jsxs)("div",{className:"lobby-button-groups",children:[Object(v.jsx)(xe,{backgroundColor:"lightblue",width:"80%",onClick:i,children:"New Room"}),Object(v.jsx)(xe,{backgroundColor:"lightblue",width:"80%",onClick:function(){s(),a((function(e){return"available rooms"===e?"all rooms":"available rooms"}))},children:c})]})]})},Me="GET_ALL_PLAYERS",_e=n(1532),De=function(e){var t=Object(r.useRef)(),n=Object(r.useState)(!1),c=Object(m.a)(n,2),a=c[0],i=c[1],o=Object(r.useState)(!1),s=Object(m.a)(o,2),u=s[0],d=s[1],j=Object(r.useState)(!1),f=Object(m.a)(j,2),p=f[0],x=f[1],g=b.getInstance(),y=Object(z.c)((function(e){return u?e.room.room.filter((function(e){return!e.isPlaying})):e.room.room}));console.log(y);var w=Object(z.c)((function(e){return e.players.players})),k=Object(z.b)(),N=Object(l.g)();Object(r.useEffect)((function(){g.socket.on("allRooms",(function(e){e=JSON.parse(e),k(function(e){return{type:ie,rooms:e}}(e))}))}),[]),Object(r.useEffect)((function(){g.socket.on("jointRoom",(function(e){e=JSON.parse(e),k(function(e){return{type:oe,room:e}}(e))}))}),[]),Object(r.useEffect)((function(){g.socket.on("allPlayers",(function(e){e=JSON.parse(e),console.log(e),k({type:Me,players:e})}))}),[]);var C=function(){var e=Object(O.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.abrupt("return",new Promise((function(e){setTimeout((function(){k(be(g,t)),e(i(!1))}),800)})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(O.a)(h.a.mark((function e(){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.current,setTimeout(Object(O.a)(h.a.mark((function e(){var t,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.show();case 3:return t=e.sent,r={id:Object(Re.a)(),name:t.name,timeLimit:t.timeLimit,maxPlayer:t.maxPlayer},e.next=7,C(r);case 7:N.push("/gameroom/".concat(r.id),{roomid:r.id}),e.next=16;break;case 10:return e.prev=10,e.t0=e.catch(0),console.log(e.t0),x(!0),e.next=16,new Promise((function(e){return setTimeout((function(){return e(x(!1))}),800)}));case 16:case"end":return e.stop()}}),e,null,[[0,10]])}))),100);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(O.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((n=y.find((function(e){return e.id===t}))).curPlayers<n.maxPlayer)){e.next=7;break}return e.next=4,C(n);case 4:N.push("gameroom/".concat(t),{roomid:n.id}),e.next=8;break;case 7:alert("room is full");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){for(var e=function(){var e=y[t];null!==e&&I.push(Object(v.jsx)(Ee,{height:200,width:200,joinHandler:function(){return E(e.id)},gameState:e.state},t+"13132"))},t=0;t<y.length;t++)e()},I=[];return R(),Object(r.useEffect)((function(){R()}),[y]),Object(r.useEffect)((function(){k(function(e){return function(t){e.getAllRooms()}}(g))}),[]),Object(v.jsxs)("div",{className:"container",id:"lobby",children:[Object(v.jsx)(_e.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:p,ContentProps:{"aria-describedby":"message-id"},message:Object(v.jsx)("span",{id:"message-id",children:"Cancel"})}),Object(v.jsx)(me.a,{style:{zIndex:20},open:a,children:Object(v.jsx)(Oe.a,{color:"inherit"})}),Object(v.jsx)(Se,{ref:t}),Object(v.jsx)("div",{className:"tables-container",children:I}),Object(v.jsx)(Ge,{createRoom:S,players:w,showAvailableRooms:function(){return d((function(e){return!e}))}})]})},Fe=n(696),ze=n(180),He={room:[new ke("21313",60,"aad",2)],currentIn:null},Ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ie:return Object(o.a)(Object(o.a)({},e),{},{room:t.rooms});case oe:return Object(o.a)(Object(o.a)({},e),{},{currentIn:t.room});default:return e}},We=(n(1475),n(1471),n(1476),{players:[]}),Be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Me:return Object(o.a)(Object(o.a)({},e),{},{players:t.players});default:return e}};(new b).onConnect(111);var Ve=Object(ze.c)({room:Ue,players:Be}),Ye=Object(ze.d)(Ve,Object(ze.a)(Fe.a)),Qe=function(){return Object(v.jsx)(z.a,{store:Ye,children:Object(v.jsx)("div",{className:"mainContainer",children:Object(v.jsx)(s.a,{children:Object(v.jsxs)(l.d,{children:[Object(v.jsx)(l.b,{exact:!0,path:"/",children:Object(v.jsx)(l.a,{to:"/lobby"})}),Object(v.jsx)(l.b,{exact:!0,path:"/lobby",component:De}),Object(v.jsx)(l.b,{exact:!0,path:"/test",component:Se}),Object(v.jsx)(l.b,{path:"/gameroom/:id",render:function(e){return Object(v.jsx)(ye,Object(o.a)({},e))}})]})})})})},qe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,1538)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),a(e),i(e)}))};i.a.render(Object(v.jsx)(c.a.StrictMode,{children:Object(v.jsx)(Qe,{})}),document.getElementById("root")),qe()},212:function(e,t,n){},465:function(e,t){},716:function(e,t,n){},740:function(e,t,n){},790:function(e,t){},791:function(e,t){}},[[1473,1,2]]]);
//# sourceMappingURL=main.994b1a3a.chunk.js.map