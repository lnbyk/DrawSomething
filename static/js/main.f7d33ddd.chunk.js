(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{1420:function(e,t){},1421:function(e,t){},1422:function(e,t){},1447:function(e,t,n){},1451:function(e,t,n){},1452:function(e,t,n){},1455:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(35),i=n.n(a),o=(n(691),n(52)),s=(n(212),n(673)),l=n(42),u=n(259),d=n(649),j=n(650),b=function(){function e(){return Object(u.a)(this,e),e._instance?e._instance:(e._instance=this,this.socket=Object(j.io)("http://localhost:8000"),this)}return Object(d.a)(e,[{key:"onConnect",value:function(e){this.socket.emit("onConnect",JSON.stringify(e))}},{key:"createOrJoin",value:function(e){this.socket.emit("createRoom",JSON.stringify(e))}},{key:"getAllRooms",value:function(){this.socket.emit("allRooms")}},{key:"startGame",value:function(e){this.socket.emit("startGame",e)}},{key:"onDraw",value:function(e,t){this.socket.emit("onDraw",e,t)}}],[{key:"getInstance",value:function(){return this._instance}}]),e}(),f=n(51),h=n.n(f),O=n(104),m=n(31),p=n(675),x=(n(720),n.p+"static/media/logo.6ce24c58.svg"),g=n(11),v=function(e){var t=void 0===e.isEditing?"":e.isEditing?"Editing":"Guessing",n=e.isEditing?"#a1cae2":"white";return Object(g.jsxs)("div",{className:"PlayCard",style:Object(o.a)(Object(o.a)({},e.style),{},{backgroundColor:n}),children:[Object(g.jsx)(p.a,{src:x,rounded:!0,className:"playcard-imageholder"}),Object(g.jsxs)("div",{className:"information",children:[Object(g.jsx)("div",{children:e.score}),Object(g.jsx)("div",{style:{color:"orange"},children:e.name}),Object(g.jsx)("div",{children:t})]})]})},y=n(381),w=n(269),k=n.n(w),N=n(1498),C=n(674),S=n(666),E=n.n(S),R=n(667),I=n.n(R),P=n(385),A=n.n(P),T=n(668),J=n.n(T),G=n(664),M=n.n(G),L=n(669),_=n.n(L),D=n(384),z=n.n(D),F=n(74),H=n(1499),W=n(1518),U=n(1512),B=n(1515),V=n(662),Y=n.n(V),Q=n(657),q=n.n(Q),K=n(663),X=n.n(K),Z=n(665),$=n.n(Z),ee=(n(1419).fabric,[{name:"pencil",render:Object(g.jsx)(q.a,{})},{name:"circle",render:Object(g.jsx)(Y.a,{})},{name:"arrow",render:Object(g.jsx)(X.a,{})},{name:"line",render:Object(g.jsx)(M.a,{})},{name:"rectangle",render:Object(g.jsx)($.a,{})}]),te=function(e){return Object(g.jsxs)("div",{style:Object(o.a)({},e.style),children:[Object(g.jsx)("div",{style:{position:"absolute",width:"100%",height:"100%",backgroundColor:"transparent",zIndex:3}}),Object(g.jsx)("div",{style:{zIndex:2,position:"absolute",width:"100%",height:"100%"},children:Object(g.jsx)(y.SketchField,{height:700,ref:function(t){e.passCanvasHandler(t)}})})]})},ne=Object(c.forwardRef)((function(e,t){var n=Object(c.useState)(!1),r=Object(m.a)(n,2),a=r[0],i=r[1],s=Object(c.useState)(!1),l=Object(m.a)(s,2),u=l[0],d=l[1],j=Object(c.useState)("black"),b=Object(m.a)(j,2),f=b[0],h=b[1],O=Object(c.useState)(10),p=Object(m.a)(O,2),x=p[0],v=(p[1],Object(c.useState)(null)),w=Object(m.a)(v,2),S=w[0],R=(w[1],Object(c.useState)(ee[0].name)),P=Object(m.a)(R,2),T=P[0],G=P[1],M=e.isEditing,L=e.roomid,D=Object(F.c)((function(e){return e.room.room.find((function(e){return e.id===L}))})),V=(Object(c.useRef)(null),null),Y=e.initialValue;Object(c.useEffect)((function(){V.fromJSON(Y),V._onMouseDown=function(){}}),[Y,V]);Object(c.useImperativeHandle)(t,(function(){return{_clear:Q}}));var Q=function(){V.clear(),V.setBackgroundFromDataUrl(""),i(V.canUndo),d(V.canRedo())};return Object(c.useEffect)((function(){!function(e){e.save=function(t,n){if(t){n||(n="console.json"),"object"===typeof t&&(t=JSON.stringify(t,void 0,4));var c=new Blob([t],{type:"text/json"}),r=document.createEvent("MouseEvents"),a=document.createElement("a");a.download=n,a.href=window.URL.createObjectURL(c),a.dataset.downloadurl=["text/json",a.download,a.href].join(":"),r.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),a.dispatchEvent(r)}else e.error("Console.save: No data")}}(console)}),[]),Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{height:"10%",children:M?Object(g.jsxs)(k.a,{style:Object(o.a)(Object(o.a)({},ce.toolbar),{},{display:M}),children:[Object(g.jsx)(z.a,{variant:"h6",color:"inherit",style:{flexGrow:1,color:"orange"},children:D&&D.currentQuestion.question}),Object(g.jsx)(N.a,{color:"primary",disabled:!a,onClick:function(){try{V.undo(),i(V.canUndo()),d(V.canRedo())}catch(e){console.log("undo error",e)}},children:Object(g.jsx)(E.a,{})}),Object(g.jsx)(N.a,{color:"primary",disabled:!u,onClick:function(){try{V.redo(),i(V.canUndo()),d(V.canRedo())}catch(e){console.log("redo error",e)}},children:Object(g.jsx)(I.a,{})}),Object(g.jsx)(N.a,{color:"primary",onClick:function(){localStorage.setItem("1111",JSON.stringify(V.toJSON()))},children:Object(g.jsx)(J.a,{})}),Object(g.jsx)(N.a,{color:"primary",onClick:function(){window.location.href=V.toDataURL().replace("image/png","image/octet-stream")},children:Object(g.jsx)(_.a,{})}),Object(g.jsx)(N.a,{color:"primary",onClick:Q,children:Object(g.jsx)(A.a,{})})]}):Object(g.jsxs)(k.a,{style:Object(o.a)(Object(o.a)({},ce.toolbar),{},{display:!M,textAlign:"center"}),children:[Object(g.jsx)(z.a,{variant:"h6",color:"inherit",style:{flexGrow:1,color:"orange"},children:D&&"\u63d0\u793a : ".concat(D.currentQuestion.hint)}),Object(g.jsx)(N.a,{color:"primary",onClick:Q,children:Object(g.jsx)(A.a,{})})]})}),Object(g.jsx)("div",{height:"80%",children:M?Object(g.jsx)(y.SketchField,{name:"sketch",className:"canvas-area",ref:function(e){return V=e},lineColor:f,lineWidth:x,fillColor:"transparent",height:630,backgroundColor:"transparent",defaultValue:Y,value:S,forceValue:!0,onChange:function(t){try{var n=a,c=V.canUndo();e.onDraw(JSON.stringify(V.toJSON())),n!==c&&i(c)}catch(r){}},tool:T}):Object(g.jsx)(te,{style:{width:"100%",height:630},passCanvasHandler:function(e){V=e}})}),M?Object(g.jsx)("div",{children:Object(g.jsxs)(k.a,{style:Object(o.a)(Object(o.a)({},ce.toolbar),{},{backgroundColor:"lightgray",zIndex:4,display:"flex",padding:5,justifyContent:"space-around"}),children:[Object(g.jsxs)(H.a,{variant:"outlined",style:{width:"20%"},children:[Object(g.jsx)(W.a,{id:"demo-simple-select-outlined-label",children:"tools"}),Object(g.jsx)(U.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:T,label:"Age",onChange:function(e){G(e.target.value)},children:ee.map((function(e){return Object(g.jsx)(B.a,{value:e.name,children:Object(g.jsxs)("div",{style:{display:"flex"},children:[e.render," ",e.name]})},e.name)}))})]}),Object(g.jsx)(C.a,{id:"lineColor",color:f,onChange:function(e){return h(e.hex)},width:"50%"})]})}):null]})})),ce={toolbar:{backgroundColor:"#333",border:"solid 1px",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)"}},re=ne,ae=n(1516),ie="GET_ALL_ROOM",oe="JOIN_ROOM",se="PREPARE",le="INGAME",ue="FINISH",de="PREPARE",je="DRAWING",be=function(e,t){return function(n){e.createOrJoin(t)}},fe=function(e){return function(t){e.socket.emit("leaveRoom")}},he=(n(1447),function(e){var t=Object(c.useState)(""),n=Object(m.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)([]),o=Object(m.a)(i,2),s=o[0],l=o[1],u=new b,d=Object(F.b)(),j=e.roomid,f=e.isEditing;Object(c.useEffect)((function(){u.socket.on("loadMessages",(function(e){e=JSON.parse(e),l(e)}))}),[]);for(var h=[],O=0;O<10;O++)h.push(O);return Object(g.jsxs)("div",{className:"chatarea",children:[Object(g.jsx)("div",{className:"messagesDisplayArea",children:s.map((function(e){var t=e.id===u.socket.id?"pink":"black";return Object(g.jsx)("div",{style:{display:"flex",padding:"2%",width:"95%"},children:Object(g.jsx)("div",{style:{fontSize:"2.3vh",wordBreak:"break-all",border:"gray solid 0.1px",borderRadius:"10px",textAlign:"left",color:t},children:e.sender+" : "+e.message})})}))}),Object(g.jsx)("div",{className:"chatInputArea",children:Object(g.jsx)(ae.a,{value:r,onChange:function(e){a(e.target.value)},onKeyDown:function(e){13===e.keyCode&&(d(function(e,t,n){return function(c){e.socket.emit("sendMessage",t,n)}}(u,j,e.target.value)),a(""))}})}),f?Object(g.jsx)("div",{className:"inputOverLay",children:Object(g.jsx)("div",{children:"You are drawing.."})}):null]})}),Oe=n(1505),me=n(1517),pe=n(1504),xe=function(e){return Object(g.jsx)(pe.a,{variant:"contained",style:{backgroundColor:e.backgroundColor,width:e.width,height:e.height,borderRadius:"30px",border:e.border||"solid gray",borderWidth:"2px 2px"},onClick:e.onClick,children:e.children})},ge=n(670),ve=n.n(ge),ye=function(e){var t=Object(c.useState)(localStorage.getItem("1111")||null),n=Object(m.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)("waiting"),o=Object(m.a)(i,2),s=o[0],u=o[1],d=Object(c.useState)(""),j=Object(m.a)(d,2),f=j[0],p=j[1],x=Object(c.useState)(!1),y=Object(m.a)(x,2),w=y[0],k=y[1],N=Object(c.useState)(!1),C=Object(m.a)(N,2),S=C[0],E=C[1],R=b.getInstance(),I=Object(F.b)(),P=Object(c.useRef)(),A=Object(F.c)((function(e){return e.room.currentIn})),T=Object(l.g)();Object(c.useEffect)((function(){R.socket.on("onDraw",(function(e){a(e)}))})),Object(c.useEffect)((function(){R.socket.on("roomPlaying",(function(e){if((e=JSON.parse(e)).state===se)u("waiting");else if(e.state===le)switch(e.round_state){case de:u("preparing:"),p(e.prepare),k(e.currentEditing===R.socket.id),P.current&&P.current._clear();break;case je:u("drawing:"),p(e.roundTimer),k(e.currentEditing===R.socket.id)}else(e.state=ue)&&(u("waiting"),p(""))}))}),[]);var J=function(){I(function(e,t){return function(n){e.startGame(t)}}(R,e.location.state.roomid))},G=function(){I(function(e,t){return function(n){e.socket.emit("prepare",t)}}(R,e.location.state.roomid))},M=function(){var e=Object(O.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!0),I(fe(R)),e.next=4,new Promise((function(e){setTimeout((function(){T.goBack(),e(E(!1))}),800)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=null,t=null;return A&&(e=A.players.find((function(e){return e&&e.id===R.socket.id})),t=A.owner===R.socket.id),Object(g.jsxs)("div",{className:"prepareContainer",children:[" ",Object(g.jsx)(xe,{backgroundColor:"#00FF00",width:"46%",height:"70%",onClick:t?J:G,children:t?"Start":e&&e.prepare?Object(g.jsxs)("div",{children:[Object(g.jsx)(ve.a,{style:{fontSize:60,color:"orange"}}),Object(g.jsx)("div",{style:{opacity:.6,position:"absolute",left:"50%",transform:"translate(-50%, -50%)",top:"50%"},children:"ready"})]}):Object(g.jsx)("div",{style:{position:"relative"},children:Object(g.jsx)("div",{style:{position:"absolute",left:"50%",transform:"translate(-50%, -50%)",top:"50%"},children:"prepare"})})}),Object(g.jsx)(xe,{backgroundColor:"red",width:"46%",height:"70%",onClick:M,children:"Exit"})]})};return Object(g.jsxs)("div",{className:"container",children:[Object(g.jsx)(me.a,{style:{zIndex:10},open:S,children:Object(g.jsx)(Oe.a,{color:"inherit"})}),Object(g.jsxs)("div",{className:"player-container",children:[Object(g.jsx)(L,{}),A&&A.players.map((function(e){return null===e?Object(g.jsx)(v,{name:"EMPTY"}):Object(g.jsx)(v,{name:e.name,isEditing:e.isEditing,score:"score: "+e.points},e.id)}))]}),Object(g.jsx)("div",{className:"game-container",children:Object(g.jsx)(re,{ref:P,initialValue:r,onDraw:function(t){I(function(e,t,n){return function(c){e.onDraw(t,n)}}(R,e.location.state.roomid,t))},isEditing:w,roomid:e.location.state.roomid})}),Object(g.jsxs)("div",{className:"chat-container",children:[Object(g.jsxs)("div",{className:"globalTimer",children:[Object(g.jsx)("p",{children:s}),Object(g.jsx)("p",{style:{color:"yellowgreen"},children:f})]}),Object(g.jsx)(he,{isEditing:w,roomid:e.location.state.roomid})]})]})},we=function e(t,n,c,r,a){Object(u.a)(this,e),this.id=t,this.name=c,this.isPlaying=!1,this.timeLimit=n,this.maxPlayer=r,this.players=[null,null,null,null,null],this.totalRound=0,this.curRound=0,this.prepare=20,this.password=a,this.state=e.GAME_STATE.prepare};we.GAME_STATE={PREPARE:"PREPARE",INGAME:"INGAME"};var ke=we,Ne=(n(1451),[60,70,80,90,100]),Ce=[2,3,4,5],Se=Object(c.forwardRef)((function(e,t){var n=Object(c.useState)(""),r=Object(m.a)(n,2),a=r[0],i=r[1],o=Object(c.useState)(""),s=Object(m.a)(o,2),l=s[0],u=s[1],d=Object(c.useState)(Ne[0]),j=Object(m.a)(d,2),f=j[0],p=j[1],x=Object(c.useState)(Ce[0]),v=Object(m.a)(x,2),y=v[0],w=v[1],k=Object(c.useState)(!1),N=Object(m.a)(k,2),C=N[0],S=N[1],E=Object(c.useState)(null),R=Object(m.a)(E,2),I=R[0],P=R[1],A=(new b).socket;Object(c.useImperativeHandle)(t,(function(){return{show:function(){var e=Object(O.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){S(!0),P({resolve:e,reject:t})})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}}));return Object(g.jsx)(me.a,{open:C,style:{zIndex:20},children:Object(g.jsxs)("div",{className:"roomcreatemodal-container",style:{display:"flex"},ref:t,children:[Object(g.jsx)("div",{className:"room-input",children:Object(g.jsx)(ae.a,{id:"room-name",label:"Room Name",value:a,onChange:function(e){i(e.target.value)}})}),Object(g.jsx)("div",{className:"room-input",children:Object(g.jsx)(ae.a,{id:"room-password",label:"Room Password",placeholder:"leave empty if no",value:l,onChange:function(e){u(e.target.value)}})}),Object(g.jsx)("div",{className:"room-input",children:Object(g.jsx)(ae.a,{id:"room-time-limit",select:!0,label:"Timie Limit",value:f,onChange:function(e){p(e.target.value)},helperText:"Select time limit",children:Ne.map((function(e){return Object(g.jsx)(B.a,{value:e,children:e+" seconds"},e+" seconds")}))})}),Object(g.jsx)("div",{className:"room-input",children:Object(g.jsx)(ae.a,{id:"room-time-limit",select:!0,label:"Timie Limit",value:y,onChange:function(e){w(e.target.value)},helperText:"Select person limits ",children:Ce.map((function(e){return Object(g.jsx)(B.a,{value:e,children:e},e+" persons")}))})}),Object(g.jsxs)("div",{className:"create-button-container",style:{height:"13.5",width:"75"},children:[Object(g.jsx)(xe,{backgroundColor:"red",height:"100%",border:"solid #f7d9d9",onClick:function(){S(!1),I.reject()},children:"cancel"}),Object(g.jsx)(xe,{backgroundColor:"#f9f3f3",height:"100%",border:"solid gray",onClick:function(){var e=new ke(A.id,f,a,y,l);S(!1),I.resolve(e)},children:"create"})]})]})})})),Ee=Object(c.forwardRef)((function(e,t){var n=Object(c.useState)(""),r=Object(m.a)(n,2),a=r[0],i=r[1],o=Object(c.useState)(!1),s=Object(m.a)(o,2),l=s[0],u=s[1],d=Object(c.useState)(null),j=Object(m.a)(d,2),b=j[0],f=j[1];Object(c.useImperativeHandle)(t,(function(){return{show:function(){var e=Object(O.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){u(!0),f({resolve:e,reject:t})})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}}));return Object(g.jsx)(me.a,{open:l,style:{zIndex:20},children:Object(g.jsxs)("div",{className:"roomcreatemodal-container",style:{display:"flex",height:"30%"},children:[Object(g.jsx)("div",{className:"room-input",style:{height:"22%",marginTop:"10%"},children:Object(g.jsx)(ae.a,{id:"room-password",label:"Enter Password",type:"password",value:a,onChange:function(e){i(e.target.value)}})}),Object(g.jsxs)("div",{className:"create-button-container",style:{height:"15%",width:"75",gap:"20%"},children:[Object(g.jsx)(xe,{backgroundColor:"red",height:"100%",border:"solid #f7d9d9",onClick:function(){u(!1),b.reject()},children:"cancel"}),Object(g.jsx)(xe,{backgroundColor:"#f9f3f3",height:"100%",border:"solid gray",onClick:function(){u(!1),b.resolve(a)},children:"JOIN"})]})]})})})),Re=n(205),Ie=n.p+"static/media/draingPad.aedcfbb4.png",Pe=n.p+"static/media/draingPadBW.2f644edf.png",Ae=(n(1452),function(e){var t,n=e.joinHandler,c=e.gameState,r=e.players,a=e.roomName,i=c===ke.GAME_STATE.INGAME,o=r.slice(0,2),s=r.slice(2,5),l=function(e){return Object(g.jsx)("div",{className:e.className,style:{backgroundImage:"url(".concat(null===e.v?Pe:Ie,")"),cursor:null===e.v?"pointer":""},onClick:null!==e.v?function(){}:n})};return Object(g.jsxs)("div",{className:"round-table",style:{width:e.width,height:e.height},children:[Object(g.jsx)("div",{id:"lock",style:(t={textAlign:"center",position:"absolute",top:0,width:"100%"},Object(Re.a)(t,"textAlign","center"),Object(Re.a)(t,"display","none"),t),children:Object(g.jsx)("b",{children:"\ud83d\udd12"})}),Object(g.jsx)("div",{className:"round-table-top",children:o.map((function(e){return Object(g.jsx)(l,{v:e,className:"child-table"})}))}),Object(g.jsx)("div",{className:"round-table-bottom",children:s.map((function(e){return Object(g.jsx)(l,{v:e,className:"child-table-bottom"})}))}),Object(g.jsx)(pe.a,{variant:"contained",style:{backgroundColor:i?"red":"#00FF00",width:"40%",height:"15%",borderRadius:"30px",borderWidth:"2px 2px",left:"50%",top:"90%",transform:"translateX(-50%) translateY(-100%)",display:"inline",fontSize:10,color:"black"},disabled:i,onClick:n,children:i?"IN-GAME ":"JOIN"}),Object(g.jsx)("div",{style:{color:"lightgray",position:"absolute",bottom:"-13%",width:"100%",textAlign:"center"},children:Object(g.jsxs)("b",{children:[" ",""===a?"gameRoom":a]})})]})}),Te=n(1513),Je=n(1506),Ge=n(1508),Me=n(1511),Le=n(1510),_e=n(1509),De=n(1507),ze=function(e){var t=Object(c.useState)("available rooms"),n=Object(m.a)(t,2),r=n[0],a=n[1],i=e.createRoom,o=e.players,s=e.showAvailableRooms,l=[{id:"name",label:"Name",minWidth:120},{id:"id",label:"ID",minWidth:270,align:"left"}];return Object(g.jsxs)("div",{className:"info-container",children:[Object(g.jsx)("div",{style:{position:"absolute",top:"2%",textAlign:"center",width:"80%"},children:Object(g.jsxs)("b",{children:["total players: ",o.length]})}),Object(g.jsx)("div",{className:"players-info",children:Object(g.jsx)(Je.a,{style:{minHeight:"100%"},children:Object(g.jsxs)(De.a,{stickyHeader:!0,"aria-label":"sticky table",size:"small",children:[Object(g.jsx)(Ge.a,{children:Object(g.jsx)(_e.a,{children:l.map((function(e){return Object(g.jsx)(Le.a,{align:e.align,style:{minWidth:e.minWidth},children:e.label},e.id)}))})}),Object(g.jsx)(Me.a,{children:o.map((function(e){return Object(g.jsx)(_e.a,{hover:!0,role:"checkbox",tabIndex:-1,children:l.map((function(t){var n=e[t.id];return Object(g.jsx)(Le.a,{align:t.align,children:t.format&&"number"===typeof n?t.format(n):n},t.id)}))},e.code)}))})]})})}),Object(g.jsxs)("div",{className:"lobby-button-groups",children:[Object(g.jsx)(xe,{backgroundColor:"lightblue",width:"80%",onClick:i,children:"New Room"}),Object(g.jsx)(xe,{backgroundColor:"lightblue",width:"80%",onClick:function(){s(),a((function(e){return"available rooms"===e?"all rooms":"available rooms"}))},children:r})]})]})},Fe="GET_ALL_PLAYERS",He=n(1514),We=function(e){var t=Object(c.useRef)(),n=Object(c.useRef)(),r=Object(c.useState)(!1),a=Object(m.a)(r,2),i=a[0],o=a[1],s=Object(c.useState)(!1),u=Object(m.a)(s,2),d=u[0],j=u[1],f=Object(c.useState)(!1),p=Object(m.a)(f,2),x=p[0],v=p[1],y=Object(c.useState)(""),w=Object(m.a)(y,2),k=w[0],N=w[1],C=b.getInstance(),S=Object(F.c)((function(e){return d?e.room.room.filter((function(e){return!e.isPlaying})):e.room.room}));console.log(S);var E=Object(F.c)((function(e){return e.players.players})),R=Object(F.b)(),I=Object(l.g)();Object(c.useEffect)((function(){C.socket.on("allRooms",(function(e){e=JSON.parse(e),R(function(e){return{type:ie,rooms:e}}(e))}))}),[]),Object(c.useEffect)((function(){C.socket.on("jointRoom",(function(e){e=JSON.parse(e),R(function(e){return{type:oe,room:e}}(e))}))}),[]),Object(c.useEffect)((function(){C.socket.on("allPlayers",(function(e){e=JSON.parse(e),console.log(e),R({type:Fe,players:e})}))}),[]);var P=function(){var e=Object(O.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.abrupt("return",new Promise((function(e){setTimeout((function(){R(be(C,t)),e(o(!1))}),800)})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(O.a)(h.a.mark((function e(){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.current,setTimeout(Object(O.a)(h.a.mark((function e(){var t,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.show();case 3:return t=e.sent,c={id:Object(Te.a)(),name:t.name,timeLimit:t.timeLimit,maxPlayer:t.maxPlayer,password:t.password},e.next=7,P(c);case 7:I.push("/gameroom/".concat(c.id),{roomid:c.id}),e.next=17;break;case 10:return e.prev=10,e.t0=e.catch(0),console.log(e.t0),v(!0),N("cancel"),e.next=17,new Promise((function(e){return setTimeout((function(){return e(v(!1))}),800)}));case 17:case"end":return e.stop()}}),e,null,[[0,10]])}))),100);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(O.a)(h.a.mark((function e(t){var c,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((c=S.find((function(e){return e.id===t}))).curPlayers<c.maxPlayer)){e.next=30;break}if(""===c.password){e.next=25;break}return e.prev=3,e.next=6,n.current.show();case 6:r=e.sent;case 7:if(r===c.password){e.next=16;break}return N("wrong password"),v(!0),setTimeout((function(){return v(!1)}),800),e.next=13,n.current.show();case 13:r=e.sent,e.next=7;break;case 16:e.next=25;break;case 18:return e.prev=18,e.t0=e.catch(3),N("cancel"),v(!0),e.next=24,new Promise((function(e){return setTimeout((function(){return e(v(!1))}),800)}));case 24:return e.abrupt("return");case 25:return e.next=27,P(c);case 27:I.push("gameroom/".concat(t),{roomid:c.id}),e.next=31;break;case 30:alert("room is full");case 31:case"end":return e.stop()}}),e,null,[[3,18]])})));return function(t){return e.apply(this,arguments)}}(),J=function(){for(var e=function(){var e=S[t];null!==e&&G.push(Object(g.jsx)(Ae,{height:200,width:200,joinHandler:function(){return T(e.id)},players:e.players,gameState:e.state,roomName:e.name},t+"13132"))},t=0;t<S.length;t++)e()},G=[];return J(),Object(c.useEffect)((function(){J()}),[S]),Object(c.useEffect)((function(){R(function(e){return function(t){e.getAllRooms()}}(C))}),[]),Object(g.jsxs)("div",{className:"container",id:"lobby",children:[Object(g.jsx)(Ee,{ref:n}),Object(g.jsx)(He.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:x,ContentProps:{"aria-describedby":"message-id"},message:Object(g.jsx)("span",{id:"message-id",children:k})}),Object(g.jsx)(me.a,{style:{zIndex:20},open:i,children:Object(g.jsx)(Oe.a,{color:"inherit"})}),Object(g.jsx)(Se,{ref:t}),Object(g.jsx)("div",{className:"tables-container",children:G}),Object(g.jsx)(ze,{createRoom:A,players:E,showAvailableRooms:function(){return j((function(e){return!e}))}})]})},Ue=n(671),Be=n(176),Ve={room:[new ke("21313",60,"aad",2)],currentIn:null},Ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ie:return Object(o.a)(Object(o.a)({},e),{},{room:t.rooms});case oe:return Object(o.a)(Object(o.a)({},e),{},{currentIn:t.room});default:return e}},Qe=(n(1457),n(1453),n(1458),{players:[]}),qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fe:return Object(o.a)(Object(o.a)({},e),{},{players:t.players});default:return e}};(new b).onConnect(111);var Ke=Object(Be.c)({room:Ye,players:qe}),Xe=Object(Be.d)(Ke,Object(Be.a)(Ue.a)),Ze=function(){return Object(g.jsx)(F.a,{store:Xe,children:Object(g.jsx)("div",{className:"mainContainer",children:Object(g.jsx)(s.a,{children:Object(g.jsxs)(l.d,{children:[Object(g.jsx)(l.b,{exact:!0,path:"/",children:Object(g.jsx)(l.a,{to:"/lobby"})}),Object(g.jsx)(l.b,{exact:!0,path:"/lobby",component:We}),Object(g.jsx)(l.b,{path:"/gameroom/:id",render:function(e){return Object(g.jsx)(ye,Object(o.a)({},e))}})]})})})})},$e=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,1520)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),a(e),i(e)}))};i.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(Ze,{})}),document.getElementById("root")),$e()},212:function(e,t,n){},438:function(e,t){},691:function(e,t,n){},720:function(e,t,n){},770:function(e,t){},771:function(e,t){},855:function(e,t){},857:function(e,t){},870:function(e,t){},872:function(e,t){},904:function(e,t){},906:function(e,t){},907:function(e,t){},912:function(e,t){},914:function(e,t){},920:function(e,t){},922:function(e,t){},941:function(e,t){},953:function(e,t){},956:function(e,t){},978:function(e,t){}},[[1455,1,2]]]);
//# sourceMappingURL=main.f7d33ddd.chunk.js.map